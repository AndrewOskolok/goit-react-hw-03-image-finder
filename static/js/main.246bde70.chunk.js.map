{"version":3,"sources":["Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","helpers/request.js","Components/Modal/Modal.js","Components/Button/Button.js","App.js","index.js"],"names":["Searchbar","onSubmit","useState","text","setText","className","e","preventDefault","type","placeholder","value","onChange","target","ImageGalleryItem","smallImg","largeImg","openModal","onClick","src","alt","ImageGallery","images","nextPage","map","image","key","id","axios","defaults","baseURL","requestApi","userRequest","numberPage","get","process","Modal","openModalImg","closeModal","Button","App","state","request","loading","quantity","loadMore","messageNotFound","setState","prev","nodeName","handlePressEsc","testServerResponse","Math","ceil","document","querySelector","addEventListener","this","then","res","requestArr","data","newRequestArr","hits","item","webformatURL","largeImageURL","total","length","catch","err","console","log","prevProps","prevState","color","height","width","Component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.246bde70.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\n// import PropTypes from \"prop-types\";\r\nimport \"./Searchbar.css\";\r\n\r\nconst Searchbar = ({ onSubmit }) => {\r\n  const [text, setText] = useState(\"\");\r\n\r\n  const inputName = ({ target }) => {\r\n    setText(target.value);\r\n  };\r\n\r\n  const submitForm = (e) => {\r\n    e.preventDefault();\r\n    if (text !== \"\") {\r\n      onSubmit(text);\r\n      setText(\"\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <header className=\"Searchbar\">\r\n      <form className=\"SearchForm\" onSubmit={submitForm}>\r\n        <button type=\"submit\" className=\"SearchForm-button\">\r\n          <span className=\"SearchForm-button-label\">Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className=\"SearchForm-input\"\r\n          type=\"text\"\r\n          placeholder=\"Search images and photos\"\r\n          value={text}\r\n          onChange={inputName}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nSearchbar.propTypes = {};\r\n\r\nexport default Searchbar;\r\n","import React from \"react\";\r\n// import PropTypes from \"prop-types\";\r\nimport \"./ImageGalleryItem.css\";\r\n\r\nconst ImageGalleryItem = ({ smallImg, largeImg, openModal }) => {\r\n  return (\r\n    <button\r\n      className=\"ImageGalleryItem-button\"\r\n      onClick={() => openModal(largeImg)}\r\n    >\r\n      <li className=\"ImageGalleryItem\">\r\n        <img src={smallImg} alt=\"\" className=\"ImageGalleryItem-image\" />\r\n      </li>\r\n    </button>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\n// import PropTypes from \"prop-types\";\r\nimport \"./ImageGallery.css\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nconst ImageGallery = ({ images, nextPage, openModal }) => {\r\n  return (\r\n    <>\r\n      <ul className=\"ImageGallery\">\r\n        {images.map((image) => (\r\n          <ImageGalleryItem\r\n            key={image.id}\r\n            smallImg={image.smallImg}\r\n            largeImg={image.largeImg}\r\n            openModal={openModal}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {};\r\n\r\nexport default ImageGallery;\r\n","import axios from \"axios\";\r\n\r\naxios.defaults.baseURL = \"https://pixabay.com/api\";\r\nconst API_KEY = process.env.REACT_APP_API_KEY;\r\nexport const PER_PAGE = 20;\r\n\r\nexport const requestApi = (userRequest, numberPage) => {\r\n  return axios.get(\r\n    `/?q=${userRequest}&page=${numberPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${PER_PAGE}`\r\n  );\r\n};\r\n","import React from \"react\";\r\n// import PropTypes from \"prop-types\";\r\nimport \"./Modal.css\";\r\n\r\nconst Modal = ({ openModalImg, closeModal }) => {\r\n  return (\r\n    <div className=\"Overlay\" onClick={closeModal}>\r\n      <div className=\"Modal\">\r\n        <img src={openModalImg} alt=\"\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nModal.propTypes = {};\r\n\r\nexport default Modal;\r\n","import React from \"react\";\r\n// import PropTypes from \"prop-types\";\r\nimport \"./Button.css\";\r\n\r\nconst Button = ({ nextPage }) => {\r\n  return (\r\n    <button className=\"Button\" onClick={nextPage}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {};\r\n\r\nexport default Button;\r\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport Searchbar from \"./Components/Searchbar/Searchbar\";\nimport ImageGallery from \"./Components/ImageGallery/ImageGallery\";\nimport { requestApi, PER_PAGE } from \"./helpers/request\";\nimport Loader from \"react-loader-spinner\";\nimport Modal from \"./Components/Modal/Modal\";\nimport Button from \"./Components/Button/Button\";\n\nexport default class App extends Component {\n  state = {\n    request: \"\",\n    images: [],\n    numberPage: 1,\n    loading: true,\n    quantity: 0,\n    openModalImg: \"\",\n    loadMore: false,\n    messageNotFound: false,\n  };\n\n  onSubmit = (userRequest) => {\n    this.setState({\n      request: userRequest,\n      numberPage: 1,\n      loading: true,\n    });\n  };\n\n  nextPage = () => {\n    this.setState((prev) => ({\n      numberPage: prev.numberPage + 1,\n      loading: true,\n      loadMore: false,\n    }));\n  };\n\n  openModal = (largeImg) => {\n    this.setState({\n      openModalImg: largeImg,\n    });\n  };\n\n  closeModal = ({ target }) => {\n    if (target.nodeName !== \"IMG\") {\n      this.setState({\n        openModalImg: \"\",\n      });\n    }\n  };\n\n  handlePressEsc = (e) => {\n    if (e.key === \"Escape\") {\n      this.closeModal(e);\n    }\n  };\n\n  testServerResponse = () => {\n    const { numberPage, quantity } = this.state;\n    Math.ceil(quantity / PER_PAGE) === numberPage\n      ? this.setState({\n          loadMore: false,\n        })\n      : this.setState({\n          loadMore: true,\n        });\n  };\n\n  componentDidMount() {\n    const body = document.querySelector(\"body\");\n    body.addEventListener(\"keyup\", this.handlePressEsc);\n\n    requestApi(\"\", 1)\n      .then((res) => {\n        const requestArr = res.data;\n        const newRequestArr = requestArr.hits.map((item) => ({\n          id: item.id,\n          smallImg: item.webformatURL,\n          largeImg: item.largeImageURL,\n        }));\n\n        this.setState({\n          images: newRequestArr,\n          quantity: requestArr.total,\n          loading: false,\n          messageNotFound: requestArr.hits.length === 0,\n        });\n        this.testServerResponse();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.loading) {\n      const { request, numberPage } = this.state;\n\n      requestApi(request, numberPage)\n        .then((res) => {\n          const requestArr = res.data;\n          const newRequestArr = requestArr.hits.map((item) => ({\n            id: item.id,\n            smallImg: item.webformatURL,\n            largeImg: item.largeImageURL,\n          }));\n\n          this.setState((prev) => ({\n            images:\n              numberPage === 1\n                ? newRequestArr\n                : [...prev.images, ...newRequestArr],\n            loading: false,\n            quantity: requestArr.total,\n            messageNotFound: requestArr.hits.length === 0,\n          }));\n          this.testServerResponse();\n        })\n        .catch((err) => console.log(err));\n    }\n  }\n\n  render() {\n    const {\n      images,\n      loading,\n      openModalImg,\n      quantity,\n      loadMore,\n      messageNotFound,\n    } = this.state;\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.onSubmit} />\n\n        <ImageGallery\n          images={images}\n          nextPage={this.nextPage}\n          openModal={this.openModal}\n        />\n        {loading && (\n          <Loader type=\"Oval\" color=\"#3f51b5\" height={100} width={100} />\n        )}\n        {loadMore && quantity !== 0 && <Button nextPage={this.nextPage} />}\n\n        {messageNotFound === true && (\n          <h2>No results were found for your search</h2>\n        )}\n\n        {openModalImg && (\n          <Modal openModalImg={openModalImg} closeModal={this.closeModal} />\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}